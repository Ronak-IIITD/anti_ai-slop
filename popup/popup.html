<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Anti-Slop Settings</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="logo">
        <span class="logo-icon">&#x1F6E1;</span>
        <h1>Anti-Slop</h1>
      </div>
      <p class="tagline">Reclaim your focus</p>
    </header>

    <!-- Current Site Status -->
    <section class="site-status-section" id="siteStatusSection">
      <div class="site-status-bar">
        <div class="site-status-info">
          <span class="site-status-dot" id="siteStatusDot"></span>
          <span class="site-status-domain" id="siteStatusDomain">Loading...</span>
        </div>
        <span class="site-status-label" id="siteStatusLabel">Checking...</span>
      </div>
      <button class="btn btn-sm btn-whitelist-toggle" id="siteWhitelistToggle" style="display:none;">
        Add to whitelist
      </button>
    </section>

    <!-- Statistics Dashboard -->
    <section class="stats-section">
      <h2 class="section-title">Statistics</h2>
      <div class="stats-grid">
        <div class="stat-card stat-primary">
          <div class="stat-value" id="totalBlocked">0</div>
          <div class="stat-label">Total Blocked</div>
        </div>
        <div class="stat-card stat-secondary">
          <div class="stat-value" id="timeSaved">0h 0m</div>
          <div class="stat-label">Time Saved</div>
        </div>
      </div>
      
      <div class="platform-stats">
        <div class="platform-stat">
          <span class="platform-name">YouTube Shorts</span>
          <span class="platform-count" id="youtubeCount">0</span>
        </div>
        <div class="platform-stat">
          <span class="platform-name">Twitter Posts</span>
          <span class="platform-count" id="twitterCount">0</span>
        </div>
        <div class="platform-stat">
          <span class="platform-name">Instagram Reels</span>
          <span class="platform-count" id="instagramCount">0</span>
        </div>
        <div class="platform-stat">
          <span class="platform-name">TikTok Videos</span>
          <span class="platform-count" id="tiktokCount">0</span>
        </div>
        <div class="platform-stat">
          <span class="platform-name">Reddit Posts</span>
          <span class="platform-count" id="redditCount">0</span>
        </div>
        <div class="platform-stat">
          <span class="platform-name">Google Results</span>
          <span class="platform-count" id="googleCount">0</span>
        </div>
        <div class="platform-stat">
          <span class="platform-name">LinkedIn Posts</span>
          <span class="platform-count" id="linkedinCount">0</span>
        </div>
        <div class="platform-stat">
          <span class="platform-name">AI Articles</span>
          <span class="platform-count" id="aiArticlesCount">0</span>
        </div>
      </div>
      
      <button class="btn btn-secondary btn-sm" id="resetStats">Reset Statistics</button>
    </section>

    <!-- Platform Controls -->
    <section class="controls-section">
      <h2 class="section-title">Platform Controls</h2>
      
      <!-- YouTube -->
      <div class="control-item">
        <div class="control-header">
          <span class="control-icon">&#x1F4FA;</span>
          <span class="control-name">YouTube Shorts</span>
          <label class="toggle">
            <input type="checkbox" id="youtubeToggle" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
      </div>
      
      <!-- Twitter -->
      <div class="control-item">
        <div class="control-header">
          <span class="control-icon">&#x1F426;</span>
          <span class="control-name">Twitter/X</span>
          <label class="toggle">
            <input type="checkbox" id="twitterToggle" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        <div class="control-details">
          <label class="input-label">
            Brainrot sensitivity:
            <select id="twitterSensitivity">
              <option value="low">Low (only obvious slop)</option>
              <option value="medium" selected>Medium (balanced)</option>
              <option value="high">High (aggressive)</option>
            </select>
          </label>
          <label class="checkbox-label">
            <input type="checkbox" id="blockBrainrot" checked>
            <span>Block brainrot content</span>
          </label>
          <label class="checkbox-label">
            <input type="checkbox" id="blockClickbait" checked>
            <span>Also block clickbait posts</span>
          </label>
        </div>
      </div>
      
      <!-- Reddit -->
      <div class="control-item">
        <div class="control-header">
          <span class="control-icon">&#x1F4E2;</span>
          <span class="control-name">Reddit</span>
          <label class="toggle">
            <input type="checkbox" id="redditToggle" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        <div class="control-details">
          <label class="input-label">
            Sensitivity:
            <select id="redditSensitivity">
              <option value="low">Low (only obvious slop)</option>
              <option value="medium" selected>Medium (balanced)</option>
              <option value="high">High (aggressive)</option>
            </select>
          </label>
        </div>
      </div>

      <!-- Google Search -->
      <div class="control-item">
        <div class="control-header">
          <span class="control-icon">&#x1F50D;</span>
          <span class="control-name">Google Search</span>
          <label class="toggle">
            <input type="checkbox" id="googleToggle" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        <div class="control-details">
          <label class="checkbox-label">
            <input type="checkbox" id="hideAIOverview" checked>
            <span>Hide AI Overviews</span>
          </label>
          <label class="checkbox-label">
            <input type="checkbox" id="filterContentFarms" checked>
            <span>Filter content farm results</span>
          </label>
          <label class="input-label">
            Sensitivity:
            <select id="googleSensitivity">
              <option value="low">Low (only obvious spam)</option>
              <option value="medium" selected>Medium (balanced)</option>
              <option value="high">High (aggressive)</option>
            </select>
          </label>
        </div>
      </div>

      <!-- LinkedIn -->
      <div class="control-item">
        <div class="control-header">
          <span class="control-icon">&#x1F4BC;</span>
          <span class="control-name">LinkedIn</span>
          <label class="toggle">
            <input type="checkbox" id="linkedinToggle" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        <div class="control-details">
          <label class="input-label">
            Sensitivity:
            <select id="linkedinSensitivity">
              <option value="low">Low (only obvious spam)</option>
              <option value="medium" selected>Medium (balanced)</option>
              <option value="high">High (aggressive)</option>
            </select>
          </label>
        </div>
      </div>

      <!-- Instagram -->
      <div class="control-item">
        <div class="control-header">
          <span class="control-icon">&#x1F4F7;</span>
          <span class="control-name">Instagram Reels</span>
          <label class="toggle">
            <input type="checkbox" id="instagramToggle" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
      </div>
      
      <!-- TikTok -->
      <div class="control-item">
        <div class="control-header">
          <span class="control-icon">&#x1F3B5;</span>
          <span class="control-name">TikTok</span>
          <label class="toggle">
            <input type="checkbox" id="tiktokToggle" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        <div class="control-details">
          <label class="checkbox-label">
            <input type="checkbox" id="blockTiktokFeed" checked>
            <span>Block entire feed</span>
          </label>
        </div>
      </div>
      
      <!-- AI Detector -->
      <div class="control-item">
        <div class="control-header">
          <span class="control-icon">&#x1F916;</span>
          <span class="control-name">AI Content Detector</span>
          <label class="toggle">
            <input type="checkbox" id="aiDetectorToggle" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        <div class="control-details">
          <label class="input-label">
            Mode:
            <select id="aiDetectorMode">
              <option value="warn">Warn (recommended)</option>
              <option value="block">Block (hide content)</option>
              <option value="off">Off</option>
            </select>
          </label>
          <p class="help-text mode-help">
            <strong>Warn:</strong> Shows warnings + highlights AI phrases. You decide what to read.<br>
            <strong>Block:</strong> High-confidence AI content is blocked with an interstitial.
          </p>
          <label class="input-label">
            Sensitivity: <span id="sensitivityValue">Medium</span>
            <select id="sensitivity">
              <option value="low">Low (only obvious AI)</option>
              <option value="medium" selected>Medium (balanced)</option>
              <option value="high">High (aggressive)</option>
            </select>
          </label>
        </div>
      </div>

      <!-- UI Controls -->
      <div class="control-item">
        <div class="control-header">
          <span class="control-icon">&#x1F441;&#xFE0F;</span>
          <span class="control-name">Show Blocked Placeholders</span>
          <label class="toggle">
            <input type="checkbox" id="showPlaceholders" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        <div class="control-details">
          <p class="help-text">Show a "Show Content" button instead of hiding completely</p>
        </div>
      </div>

      <!-- Global Custom Keyword Rules -->
      <div class="control-item">
        <div class="control-header">
          <span class="control-icon">&#x2699;&#xFE0F;</span>
          <span class="control-name">Custom Keyword Rules</span>
          <label class="toggle">
            <input type="checkbox" id="customRulesEnabled" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        <div class="control-details custom-rules-fields">
          <label class="input-label">
            Always block when text contains (comma or new line):
            <textarea id="customBlockKeywords" class="custom-keyword-input" rows="3" placeholder="e.g. prank gone wrong, fake giveaway"></textarea>
          </label>
          <label class="input-label">
            Always allow when text contains (comma or new line):
            <textarea id="customAllowKeywords" class="custom-keyword-input" rows="3" placeholder="e.g. tutorial, case study, source code"></textarea>
          </label>
          <button class="btn btn-primary btn-sm" id="saveCustomRules">Save Custom Rules</button>
          <p class="help-text">Works globally across platform filters and AI detection (minimum 3 characters per keyword).</p>
        </div>
      </div>
    </section>

    <!-- Whitelist Management -->
    <section class="whitelist-section">
      <h2 class="section-title">Whitelisted Sites</h2>
      <p class="section-desc">Sites that are never scanned by the AI detector.</p>
      <div class="whitelist-add">
        <input type="text" id="whitelistInput" placeholder="example.com" class="whitelist-input">
        <button class="btn btn-primary btn-sm" id="whitelistAddBtn">Add</button>
      </div>
      <div class="whitelist-list" id="whitelistList">
        <p class="whitelist-empty">Loading...</p>
      </div>
    </section>

    <!-- Recent Blocks -->
    <section class="recent-blocks-section">
      <h2 class="section-title">Recent Detections</h2>
      <div class="recent-blocks-list" id="recentBlocksList">
        <p class="recent-blocks-empty">No recent detections</p>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <p class="footer-text">Made with focus by Anti-Slop Team</p>
      <div class="footer-links">
        <a href="https://github.com/Ronak-IIITD/anti_ai-slop" target="_blank">GitHub</a>
        <span>&bull;</span>
        <a href="#" id="reportIssue">Report Issue</a>
      </div>
    </footer>
  </div>

  <script src="popup.js"></script>
</body>
</html>
